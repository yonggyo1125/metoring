## 의존성 주입(Dependency Injection)

- 개방 폐쇄원칙 : OCP(Open and close Principle)
  - 확장에는 열려있고, 변화에는 닫혀 있는 구조로 코드를 구성하는 원칙 
  - 전략 패턴 
  - 변화에는 닫혀 있는 구조 : 캡슐화
    - 변화 : 객체간의 관계가 서로 영향을 주고 받을 수 있는 관계 
        - 부작용이 발생하는 경우가 있다면? 정상적인 프로그램의 동작을 위해서 조치가 필요
        - 조치와 관련된 코드 작성의 여지가 있어야 한다. 변화되는 관계는 함수 내부에 정의
- 의존성이란?

- 의존성 주입을 해야 하는 이유? 
  - 통제 가능성을 열어주기 위해서 의존하는 객체를 주입할 수 있는 구조로
    - 객체를 통제할수 있는 컨트롤타워 : 객체 컨테이너 형태로 관리될 수 있도록 구성 
          - 관리 : 객체 생성과 조립(의존성 주입)
  - setter 메서드, 생성자 매개변수
    - setter 메서드로 의존성을 주입 : 연관관계 // 의존성을 주입하지 않아도 객체를 생성하는데 문제 X
    - 생성자 매개변수로 의존성을 주입(생성자가 1개만 있는 경우) : 의존관계 // 의존성을 주입하지 않으면 객체 생성 불가
      - 참고) 스프링 컨테이너는 관리하는 객체가 있다면 생성자 매개변수로 의존성을 정의하면 자동 주입(의존 관계 이기 때문이므로) 
      - 스프링 쪽에서는 생성자 매개변수로 의존성 주입을 권장 / 안정성 
    
  - 의존하는 객체의 생성 주체가 클래스 외부 변경
  - 전략 패턴(Strategy Pattern): OCP 
     - 객체가 할수 있는 행위들을 각각의 전략으로 구성해 놓고
     - 동적으로 변경이 필요한 경우(통제) 전략을 바꿈으로써(주입받는 객체를 변경 함으로써) 행위의 수정이 가능한 패턴 (열린 구조)
  - 디자인 패턴(Design Pattern)
    - GoF 23 패턴 (Gang Of Four) 
    - 문제 해결 방식을 정형화한 코드 패턴(구조패턴, 생성패턴, ...) 
    - 싱글톤 패턴, 데코레이터 패턴, 퍼사드 패턴, ....
    - 발행-구독 패턴, 옵저버 패턴, ... 
    - 빌더패턴, ...
    - 콤포지트 패턴 / UI 구성에 가장 잘 맞는 패턴 ... 
    ``
- @Bean : 관리 상태에 있는 객체


참고)
- 리스코프 치환 원칙 적용 사례(LSP)
    - 상위 클래스 자료형과 하위 클래스 자료형의 상호 호환성


- 통제 불가능하면 접근을 막는다. -> 접근 제어자()
- 변수에 직접 대입하는 것은 지양(통제가 불가) - 정보 은닉 
- 접근을 통제하고 있는 변수를 통제할 수단이 필요!(함수(메서드)를 정의)
- 통제는 코드를 작성해서 값에 대한 검증 또는 대안적인 로직을 넣는것(함수 내에서만 가능!)

## IoC 컨테이너 : 스프링 컨테이터
- 직접 객체 컨테니이너를 구성해서 관리하기에는 너무 번거롭다!
- IoC (Inversion Of Control) : 제어의 역전
  - 제어 : 개발자가 해야되는 객체 관리(통제)
  - 제어의 주체가 개발자가 아니라 스프링 컨테이너로 역전(스프링 컨테이더가 대신 객체 통제를 해준다!)

- ApplicationContext : 스프링 컨테이너
- 의존성 자동 주입 
- 컴포넌트 스캔 

참고)
  꼭 필요하지만 반복되는 패턴이있고 양이 많은 귀찮은 코드 : 보일러플레이트 코드

### 의존성 
spring-context



참고)
애노테이션 : 정보 전달 수단(기능 X, 정보만 가지고 있는 형태)
Class 클래스 : 클래스에 대한 구성 정보가 담겨 있는 객체(어떤 메서드가 정의되어 있는지, 어떤 필드(변수, 정적변수, 상수)가 정의되어 있는지, 어떤 생성자가 정의되어있는지)

싱글톤 패턴: 객체를 필요할때 하나만 생성해서 공유하는 패턴 
  - 기능을 담당하는 객체인 경우, 그 객체가 수행하는 절차는 절대 바뀌지 않는다. 객체를 여러개 생성 할필요가 절대 없다(메모리 낭비) / 하나의 객체만 생성해서 사용하는게 일반적이다.
  - 다만 객체마다 다른 값을 가져야하는 데이터 클래스로 만들어진 객체(DTO, Entity ...)는 싱글톤 패턴을 적용 X, 매번 생성 
  
  - 스프링 컨테이너가 주로 관리하는 객체는 기능을 담하는 객체!, 여러개가 절대 필요 X, 기본 전략으로 객체는 싱글턴 형태로 관리